import React, {Component, PropTypes} from 'react';
import {View, Text, StyleSheet, Dimensions, Animated, Easing, StatusBar} from 'react-native';
import ScrollableTabs from 'comp/modules/scrollview/ScrollableTabs';
import {wrender} from 'comp/modules/webrender'  //only webview


import blog from '../business/blog'

/*  sample 1 */
let _tabs = ['RN', '主页', 'fkp']

let contents = {
    RN: wrender({url: Config.domain+'/dbdemo?tag=RN'}),
    "主页": blog,
    fkp: wrender({url: Config.domain+'/dbdemo?tag=fkp'}),
}

export class simpleScrollTab extends Component {
    _renderTopicList() {
		return _tabs.map((item, i)=> {
            if (contents[item]){
                if (typeof contents[item] === 'string'){
                    return (
                        <View key={item} >
                            <Text> {contents[item]} </Text>
                        </View>
                    )
                }
                else {
                    return (
                        <View key={item} style={{flex:1}}>
                            {contents[item]}
                        </View>
                    )
                }
            }
		});
	}

    _onPageChanged(page, isScrolling) {
        console.log(page);
	}

    render() {
        return (
            <ScrollableTabs
                ref={view=> this._scrollableTabs=view}
                tabs={_tabs}
                onPageChangedAndAnimateEnd={this._onPageChanged.bind(this)}
            >
                { this._renderTopicList() }
            </ScrollableTabs>

        )
    }
}
